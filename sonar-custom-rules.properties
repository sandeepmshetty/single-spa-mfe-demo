# Custom SonarQube Rules Configuration
# This file contains additional rule configurations for your micro-frontend project

# ============================================
# JavaScript/TypeScript Rules
# ============================================

# Cognitive Complexity
sonar.javascript.maxComplexity=15
sonar.typescript.maxComplexity=15

# File size limits
sonar.javascript.file.suffixes=.js,.jsx
sonar.typescript.file.suffixes=.ts,.tsx

# Ignore specific rules (example)
# Format: sonar.issue.ignore.multicriteria=e1,e2,e3...
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# Ignore console statements in development files
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S2228
sonar.issue.ignore.multicriteria.e1.resourceKey=**/src/environments/*.ts

# Ignore TODO comments in specific files
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.spec.ts

# Ignore magic numbers in test files
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S109
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.test.ts

# Ignore duplicate strings in config files
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S1192
sonar.issue.ignore.multicriteria.e4.resourceKey=**/webpack.config.js

# ============================================
# HTML Rules
# ============================================

# HTML file extensions
sonar.html.file.suffixes=.html,.htm,.vue

# Ignore specific HTML rules
sonar.issue.ignore.multicriteria.e5=e5
sonar.issue.ignore.multicriteria.e5.ruleKey=Web:ImgWithoutAltCheck
sonar.issue.ignore.multicriteria.e5.resourceKey=**/src/index.html

# ============================================
# CSS Rules
# ============================================

# CSS file extensions
sonar.css.file.suffixes=.css,.scss,.sass,.less

# CSS specific configurations
sonar.css.node=

# ============================================
# Security Rules Configuration
# ============================================

# Security hotspot review threshold
sonar.security.rating=A

# Configure security-specific rule parameters
sonar.security.hotspots.enabled=true

# ============================================
# Code Coverage Configuration
# ============================================

# Coverage exclusions (already in main properties, but can be extended)
sonar.coverage.exclusions=\
  **/*.spec.ts,\
  **/*.spec.js,\
  **/*.test.ts,\
  **/*.test.js,\
  **/*.spec.tsx,\
  **/*.spec.jsx,\
  **/*.test.tsx,\
  **/*.test.jsx,\
  **/node_modules/**,\
  **/test/**,\
  **/tests/**,\
  **/__tests__/**,\
  **/coverage/**,\
  **/dist/**,\
  **/.angular/**

# ============================================
# Duplication Detection
# ============================================

# Minimum tokens for duplication detection
sonar.cpd.exclusions=\
  **/*.spec.ts,\
  **/*.spec.js,\
  **/*.test.ts,\
  **/*.test.js

# ============================================
# Language-Specific Analyzers
# ============================================

# Enable/disable specific analyzers
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Node.js memory configuration for analysis
sonar.javascript.node.maxspace=4096

# ============================================
# Quality Profile Enforcement
# ============================================

# These can be set per-project or globally
# Uncomment to use custom profiles (after creating them)
# sonar.profile.js=Micro-Frontend-JavaScript
# sonar.profile.ts=Micro-Frontend-TypeScript
# sonar.profile.web=Micro-Frontend-HTML
# sonar.profile.css=Micro-Frontend-CSS

# ============================================
# Issue Severity Overrides
# ============================================

# Example: Change severity of specific rules
# sonar.issue.enforce.multicriteria=s1,s2
# sonar.issue.enforce.multicriteria.s1.ruleKey=typescript:S1134
# sonar.issue.enforce.multicriteria.s1.severity=CRITICAL

# ============================================
# Custom Metrics Thresholds
# ============================================

# Function complexity threshold
sonar.complexity.threshold=15

# Class complexity threshold
sonar.complexity.class=80

# File complexity threshold
sonar.complexity.file=200
